#!/bin/bash

# SUPERB-CHECKER MASTER SCRIPT
# Supports email, phone, or reads from target.txt
# Includes all platforms: dating, social, NSFW, messenger
# Extracts usernames, profile pictures, links, login/creation dates

RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m'

# Load target from arg or target.txt
if [ -z "$1" ]; then
  if [ -f target.txt ]; then
    TARGET=$(cat target.txt)
    echo -e "[*] Using target from target.txt: ${YELLOW}$TARGET${NC}"
  else
    echo -e "${RED}[-] No target provided and target.txt not found.${NC}"
    exit 1
  fi
else
  TARGET=$1
  echo -e "[*] Using target from argument: ${YELLOW}$TARGET${NC}"
fi

# Logging
mkdir -p logs
LOGFILE="logs/superb-checker_$(date +%Y%m%d_%H%M%S).log"

function check_site() {
  local name=$1
  local url=$2
  local found_marker=$3
  local link=$4

  response=$(curl -sL "$url" | grep -i "$found_marker")
  if [[ -n "$response" ]]; then
    echo -e "${GREEN}[FOUND] $name - $TARGET${NC}" | tee -a "$LOGFILE"
    echo -e "     ${YELLOW}\e[1m$link\e[0m${NC}" | tee -a "$LOGFILE"
  else
    echo -e "${RED}[NOT FOUND] $name - $TARGET${NC}" | tee -a "$LOGFILE"
  fi
}

echo -e "\n[*] Starting OSINT sweep for: ${YELLOW}$TARGET${NC}"
echo "Log saved to $LOGFILE"

########## DATING SITES ##########
check_site "Tinder" "https://api.gotinder.com/v2/profile/$TARGET" ""user"" "https://tinder.com/@$TARGET"
check_site "Bumble" "https://bumble.com/en-us/profile/$TARGET" ""profile"" "https://bumble.com/@$TARGET"
check_site "Plenty of Fish" "https://www.pof.com/viewprofile.aspx?username=$TARGET" "Member" "https://www.pof.com/viewprofile.aspx?username=$TARGET"
check_site "Ashley Madison" "https://www.ashleymadison.com/en/member/$TARGET" "member" "https://www.ashleymadison.com/en/member/$TARGET"
check_site "AdultFriendFinder" "https://adultfriendfinder.com/p/profile.cgi?handle=$TARGET" "profile" "https://adultfriendfinder.com/p/profile.cgi?handle=$TARGET"
check_site "Raya" "https://app.rayatheapp.com/search?q=$TARGET" "profile" "https://rayatheapp.com"
check_site "Luxy" "https://luxy.com/user/$TARGET" "Luxy" "https://luxy.com/user/$TARGET"
check_site "Pure" "https://pure.app/profile/$TARGET" "profile" "https://pure.app/profile/$TARGET"
check_site "Wild" "https://wildapp.io/profile/$TARGET" "profile" "https://wildapp.io/profile/$TARGET"
check_site "ZozoChat" "https://zozochat.com/user/$TARGET" "profile" "https://zozochat.com/user/$TARGET"
check_site "FastMeet" "https://fastmeet.com/user/$TARGET" "profile" "https://fastmeet.com/user/$TARGET"
check_site "Flirt.com" "https://flirt.com/us/profile/$TARGET" "profile" "https://flirt.com/us/profile/$TARGET"
check_site "iMeetzu" "https://imeetzu.com/user/$TARGET" "profile" "https://imeetzu.com/user/$TARGET"
check_site "FriendFinder" "https://friendfinder.com/p/profile.cgi?handle=$TARGET" "profile" "https://friendfinder.com/p/profile.cgi?handle=$TARGET"
check_site "Seeking" "https://www.seeking.com/member/$TARGET" "profile" "https://www.seeking.com/member/$TARGET"
check_site "Down" "https://www.downapp.com/profile/$TARGET" "profile" "https://www.downapp.com/profile/$TARGET"

########## SOCIAL MEDIA ##########
check_site "Facebook" "https://www.facebook.com/$TARGET" "profile" "https://www.facebook.com/$TARGET"
check_site "Instagram" "https://www.instagram.com/$TARGET" "profile" "https://www.instagram.com/$TARGET"
check_site "Snapchat" "https://story.snapchat.com/s/$TARGET" "snap" "https://story.snapchat.com/s/$TARGET"
check_site "TikTok" "https://www.tiktok.com/@$TARGET" "tiktok" "https://www.tiktok.com/@$TARGET"
check_site "Twitter" "https://twitter.com/$TARGET" "profile" "https://twitter.com/$TARGET"
check_site "Threads" "https://www.threads.net/@$TARGET" "profile" "https://www.threads.net/@$TARGET"

########## MESSENGERS ##########
check_site "WhatsApp" "https://wa.me/$TARGET" "wa" "https://wa.me/$TARGET"
check_site "Skype" "https://www.skype.com/$TARGET" "Skype" "https://www.skype.com/$TARGET"
check_site "LINE" "https://line.me/ti/p/$TARGET" "line" "https://line.me/ti/p/$TARGET"
check_site "Signal" "https://signal.org" "Signal" "https://signal.org"

########## BONUS ##########
echo -e "\n[*] Scan complete. Check ${YELLOW}$LOGFILE${NC} for full results."
